/*! tabletojson - v0.10.0 - Daniel White */
!function(a){"use strict";var b=function(b,c){this.$element=a(b),this.cachedRowSpan=null,this.options=a.extend({},a.fn.tableToJSONCell.defaults,c),this.init()};b.prototype={constructor:b,value:function(){var b=a.trim(this.$element.text());return this.$element.data("override")?b=this.$element.data("override"):this.options.allowHTML&&(b=a.trim(this.$element.html())),this.withColSpan(b)},colSpan:function(){var a=1;return this.$element.attr("colSpan")&&(a=parseInt(this.$element.attr("colSpan"),10)),a},rowSpan:function(a){return 1===arguments.length?this.cachedRowSpan=a:this.cachedRowSpan||(this.cachedRowSpan=1,this.$element.attr("rowSpan")&&(this.cachedRowSpan=parseInt(this.$element.attr("rowSpan"),10))),this.cachedRowSpan},withColSpan:function(a){var b=a;if(this.$element.attr("colSpan")){var c=this.colSpan();if(c>1){b=[];for(var d=0;c>d;d++)b.push(a)}}return b},init:function(){a.proxy(function(){this.$element.triggerHandler("init",this)},this)}},a.fn.tableToJSONCell=function(a){return new b(this,a)},a.fn.tableToJSONCell.defaults={allowHTML:!1}}(jQuery),function(a){"use strict";var b=function(b,c){this.$element=a(b),this.cells=[],this.options=a.extend({},a.fn.tableToJSONRow.defaults,c),this.init()};b.prototype={constructor:b,id:function(){return this.$element.attr("id")?this.$element.attr("id"):null},valuesWithHeadings:function(a){for(var b={},c=this.values(),d=0;d<c.length;d++)b[a[d]]=c[d];return b},isEmpty:function(){for(var a=!0,b=this.values(),c=0;a&&c<b.length;c++)""!==b[c]&&(a=!1);return a},cell:function(a){return a<this.cells.length?this.cells[a]:null},insert:function(a,b){this.cells.splice(a,0,b)},getRowSpans:function(a){for(var b,c,d=[],e=0;e<this.cells.length;e++){if(d=[],c=this.cells[e]){for(b=c.rowSpan();b>1;)d.push(c),b--;c.rowSpan(1)}d.length>0&&(a[e]=d)}return a},insertRowSpans:function(a){for(var b=0;b<a.length;b++)if(a[b]&&a[b].length>0){var c=a[b].splice(0,1)[0];this.insert(b,c)}return a},rowSpans:function(){for(var a,b,c=[],d=[],e=0;e<this.cells.length;e++){for(d=[],b=this.cells[e],a=b.rowSpan();a>1;)d.push(b),a--;b.rowSpan(1),d.length>0&&(c[e]=d)}return c},values:function(){for(var a=[],b=null,c=0,d=0;d<this.cells.length;d++)if(b=this.cells[d].value(),1===this.cells[d].colSpan())this.ignoreColumn(c)||(a=a.concat(b)),c++;else for(var e=0;e<b.length;e++)this.ignoreColumn(c)||(a=a.concat(b[e])),c++;return a},ignoreColumn:function(a){return this.options.onlyColumns?this.options.onlyColumns.indexOf(a)<0:this.options.ignoreColumns.indexOf(a)>-1},init:function(){var b=this;this.$element.children(this.options.cellSelector).each(function(c,d){b.cells.push(a(d).tableToJSONCell(b.options))}),a.proxy(function(){this.$element.triggerHandler("init",this)},this)}},a.fn.tableToJSONRow=function(a){return new b(this,a)},a.fn.tableToJSONRow.defaults={onlyColumns:null,ignoreColumns:[],cellSelector:"td,th"}}(jQuery),function(a){"use strict";var b=function(b,c){this.$element=a(b),this.rows=[],this.options=a.extend({},a.fn.tableToJSON.defaults,c),this.init()};b.prototype={constructor:b,headings:function(){return this.rows.length>0&&!this.options.headings?this.rows[0].values():this.options.headings?this.options.headings:[]},values:function(){var a=[],b=this.headings(),c=this.options.headings?0:1;for(c;c<this.rows.length;c++)if(!this.ignoreRow(this.rows[c],c))if(this.options.includeRowId){var d="string"==typeof this.options.includeRowId?this.options.includeRowId:"rowId",e=this.rows[c].valuesWithHeadings(b);e[d]=this.rows[c].id(),a.push(e)}else a.push(this.rows[c].valuesWithHeadings(b));return a},ignoreRow:function(a,b){return this.options.ignoreRows&&this.options.ignoreRows.indexOf(b)>-1||a.$element.data("ignore")&&"false"!==a.$element.data("ignore")||this.options.ignoreHiddenRows&&!a.$element.is(":visible")||this.options.ignoreEmptyRows&&a.isEmpty()},addRow:function(a,b){return a.insertRowSpans(b),this.rows.push(a),a.getRowSpans(b)},init:function(){var b=this,c=[],d=null;this.$element.children(this.options.rowParentSelector).children(this.options.rowSelector).each(function(e,f){d=a(f).tableToJSONRow(b.options),c=b.addRow(d,c)}),a.proxy(function(){this.$element.triggerHandler("init",this)},this)}},a.fn.tableToJSON=function(a){var c=new b(this,a);return c.values()},a.fn.tableToJSON.defaults={ignoreRows:[],ignoreHiddenRows:!0,ignoreEmptyRows:!1,headings:null,includeRowId:!1,rowParentSelector:"tbody,*",rowSelector:"tr"}}(jQuery);